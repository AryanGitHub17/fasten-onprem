{
  "id": "example_dashboard",
  "schema_version": "1.0",
  "title": "Example Dashboard",
  "description": "An example dashboard to show-off the power of Fasten widgets",
  "widgets": [
    {
      "title_text": "Diabetes Tracking",
      "description_text": "Track key metrics for your chronic disease (eg. Diabetes)",
      "x": 0,
      "y": 0,
      "width": 8,
      "height": 5,
      "item_type": "complex-line-widget"
    },
    {
      "title_text": "Weight",
      "description_text": "",
      "x": 8,
      "y": 0,
      "width": 2,
      "height": 2,
      "item_type": "simple-line-chart-widget",
      "queries": [{
        "q": {
          "select": [
            "valueQuantity.value as data",
            "(effectiveDateTime | issued).first() as label"
          ],
          "from": "Observation",
          "where": [
            "(code.coding.where(system = 'http://loinc.org' and code = '29463-7') | code.coding.where(system = 'http://loinc.org' and code = '3141-9') | code.coding.where(system = 'http://snomed.info/sct' and code = '27113001')).exists()"
          ]
        }
      }],
      "parsing": {
        "xAxisKey": "label",
        "yAxisKey": "data"
      }
    },
    {
      "title_text": "Height",
      "description_text": "",
      "x": 10,
      "y": 0,
      "width": 2,
      "height": 2,
      "item_type": "simple-line-chart-widget",
      "queries": [{
        "q": {
          "select": [
            "valueQuantity.value as data",
            "(effectiveDateTime | issued).first() as label"
          ],
          "from": "Observation",
          "where": [
            "code.coding.where(system = 'http://loinc.org' and code = '8302-2').exists()"
          ]
        }
      }],
      "parsing": {
        "xAxisKey": "label",
        "yAxisKey": "data"
      }
    },
    {
      "title_text": "Blood Pressure",
      "description_text": "How much pressure your blood is exerting against your artery walls when the heart beats",
      "x": 8,
      "y": 2,
      "width": 4,
      "height": 3,
      "item_type": "grouped-bar-chart-widget",
      "queries": [
        {
          "q": {
            "select": [
              "component.where(code.coding.system = 'http://loinc.org' and code.coding.code = '8462-4').valueQuantity.value as data"
            ],
            "from": "Observation",
            "where": [
              "(component.code.coding.where(system = 'http://loinc.org' and code = '8462-4')).exists()"
            ]
          },
          "dataset_options": {
            "label": "Diastolic"
          }
        },
        {
          "q": {
            "select": [
              "component.where(code.coding.system = 'http://loinc.org' and code.coding.code = '8480-6').valueQuantity.value as data"
            ],
            "from": "Observation",
            "where": [
              "(component.code.coding.where(system = 'http://loinc.org' and code = '8480-6')).exists()"
            ]
          },
          "dataset_options": {
            "label": "Systolic"
          }
        }],
      "parsing": {
        "xAxisKey": "id",
        "yAxisKey": "data"
      }
    },
    {
      "title_text": "Patient Vitals",
      "description_text": "",
      "x": 0,
      "y": 5,
      "width": 4,
      "height": 5,
      "item_type": "patient-vitals-widget"
    },
    {
      "title_text": "Records by Type",
      "description_text": "",
      "x": 4,
      "y": 5,
      "width": 8,
      "height": 5,
      "item_type": "donut-chart-widget",
      "queries": [{
        "q": {
          "select": [],
          "from": "",
          "where": [],

          "aggregation_params":["resourceType"],
          "aggregation_type":"countBy"
        }
      }],
      "parsing": {
        "label": "key",
        "key": "value"
      }
    },
    {
      "title_text": "Compliance",
      "description_text": "Use to track important healthcare and medical tasks.",
      "x": 0,
      "y": 10,
      "width": 4,
      "height": 2,
      "item_type": "dual-gauges-widget",
      "queries": [{
        "dataset_options": {
          "label": "Vaccines"
        },
        "q": {
          "select": [],
          "from": "Immunization",
          "where": [],

          "aggregation_params":["resourceType"],
          "aggregation_type":"countBy"
        }
      },
        {
          "dataset_options": {
            "label": "Claims"
          },
          "q": {
            "select": [],
            "from": "Claim",
            "where": [],

            "aggregation_params":["resourceType"],
            "aggregation_type":"countBy"
          }
        }],
      "parsing": {
        "label": "key",
        "key": "value"
      }
    },
    {
      "title_text": "Recent Encounters",
      "description_text": "Recent interactions with healthcare providers",
      "x": 4,
      "y": 10,
      "width": 8,
      "height": 4,
      "item_type": "table-widget",
      "queries": [{
        "q": {
          "select": [
            "serviceProvider.display as institution",
            "period.start as date",
            "reasonCode.coding.display.first() as reason",
            "participant.individual.display as provider"
          ],
          "from": "Encounter",
          "where": []
        }
      }],
      "parsing": {
        "Id": "id",
        "Institution": "institution",
        "Reason": "reason",
        "Provider": "provider"
      }
    }
  ]
}
